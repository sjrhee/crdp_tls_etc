# 성능에 영향을 미치는 요소

## 1. tls 연결
- 처음 연결 시 tls 협상 과정에서 성능 저하 (매우높음)
- 세션이 유지 재사용되는 경우 캐시되어 영향이 줄어듬 (보통)

## 2. JWT 사용
- 서명 검증 및 클레임 추출 시간 필요 (높음)
- 데이터 전송량 증가에 따른 네트워크 지연 (낮음)

## 3. 접근 정책
- 사용자 처리에 추가 지연 발생 (낮음)
- 불허 사용자에 대한 암호문 또는 오류 처리가 가장 빠름 (보통)
- 불허 사용자에 대한 마스킹 처리 시 추가 지연 발생 (높음)

## 4. 암호화 알고리즘
- AES/ECB/PKCS5Padding, AES/CBC/PKCS5Padding, FPE/AES, FPE/FF3-1, FPE/FF3, FPE/FF1v2 순 (높음)
- NoPadding은 현실적으로 길이를 맞출 수 없어 제외 (N/A)
- FPE는 AES에 비하여 많은 추가 지연 발생 (높음)

## 5. 보안 정책
- 버전 관리 활성화 시 추가 지연 (높음)
  
  
## 성능 테스트 결과

### 테스트 1: TLS, JWT, FPE, Masking 미사용
```bash
ubuntu@k8s-master:~/Work/crdp_cli_go$ ./crdp-cli --host 192.168.0.234 --port 32082 --iterations 1000 --jwt false --policy P01 --tls false
```

Summary
- Iterations attempted: 1000
- Successful (both 2xx): 1000
- Revealed matched original data: 1000
- Total time: 2.7121s
- Average per-iteration time: 0.0027s


### 테스트 2: TLS, JWT, FPE, Masking 사용
```bash
ubuntu@k8s-master:~/Work/crdp_cli_go$ ./crdp-cli --host 192.168.0.234 --port 32182 --iterations 1000 --jwt true --policy dev-users-policy --tls true
```

Summary
- Iterations attempted: 1000
- Successful (both 2xx): 1000
- Revealed matched original data: 1000
- Total time: 4.0806s
- Average per-iteration time: 0.0041s
